<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css" />
        <link rel="stylesheet" type="text/css" href="css/font-awesome-4.3.0/css/font-awesome.min.css" />
	<script type="text/javascript" src="js/wp-specific.js"> </script>
	<script type="text/javascript" src="js/jquery-1.11.2.min.js"> </script>
	<script type="text/javascript" src="js/bootstrap.js"> </script>
	<style type="text/css">
		/* specific css to hide spinner elements of input type = number */
		input::-webkit-outer-spin-button,
		input::-webkit-inner-spin-button {
		-webkit-appearance: none;
		margin: 0;
		}

	</style>

        <!-- <link rel="stylesheet" type="text/css" href="css/index.css" /> -->
        <title>Obexto Mobilité - Notes De Frais</title>

</head>
<body style="background-color: gainsboro;" onload="javascript:onLoad();">
<img src="./img/obexto.png" width="50%" />
<div class="container">
	<div class="row">
		<div class="col-xs-10">
			<h4> INDEMNITE KILOMETRIQUE </h4>
		</div>
		<div class="col-xs-2 pull-right">
			<a href="./index.html"> <i id="ajoutNote" class="fa fa-arrow-circle-left fa-2x" title="revenir à l'accueil"></i> </a>
		</div>
	</div>
	<div class="row">
		<div class="col-xs-4">
			<label for="NB_KM_IK"> Nombre KM : </label>
		 </div>
		<div class="col-xs-8">
			<input id="NB_KM_IK" type="number" class="form-control" onkeypress="return isMontantValid( event );" oninput="javascript:verifierNbKmIK();" placeholder="Entrez votre kilométrage" autofocus />
		 </div>
	</div>
	<div class="row">
		<div class="col-xs-4">
			<label for="DTE_CREA_IK"> Date Associée : </label>
		 </div>
		<div class="col-xs-8">
			<input id="DTE_CREA_IK" type="date" class="form-control" />
		 </div>
	</div>
	<div class="row">
		<div class="col-xs-5">
			<label for="REMQ_IK"> Remarque : </label> <br />
		</div>
		<div class="col-xs-2 col-xs-offset-5">
			<i id="micro" class="pull-right fa fa-2x fa-microphone"></i>
		</div>
	</div>
	<div class="row">
		<div class="col-xs-12">
			<textarea id="REMQ_IK" class="form-control" placeholder="Saisissez votre remarque"></textarea>
		</div>
	</div>
	<div class="row">
		<div class="col-xs-6 col-xs-offset-1">
			<button type="button" class="btn btn-default btn-block" onclick="javascript: annulerIK()"> Annuler </button>
		</div>
		<div class="col-xs-4">
			<button id="btnValiderIK" type="button" class="btn btn-success btn-block" onclick="javascript: validerFormulaireConnexion();" disabled> Valider </button>
		</div> 
	</div>
</div>


<script type="text/javascript" src="cordova.js" charset="utf-8" defer></script>
<script type="text/javascript" src="js/index.js" charset="utf-8" defer></script>
<script type="text/javascript" src="js/speechLocal.js" charset="utf-8" defer></script>
<script type="text/javascript" src="js/ik.js" defer></script>
<script type="text/javascript">
	var REMQ_IK, DTE_CREA_IK, NB_KM_IK;
	var soapMsg;

	// enregistrer les géolocations ( création / association manuelle / envoi )
	function onDeviceReady() {
		console.log( "[OK] : Device Ready Event" );
		alert( "[OK] : Device Ready Event" );
	}
	function onLoad () {
		window.document.addEventListener( "deviceready", onDeviceReady, false );
		console.log( "LOADED3" );

		isOnline( connexionOK, connexionKO );

		getDateJour();
		
		window.document.addEventListener( "online", function() {
			toggleASRBtn( "OK" );
		});
		window.document.addEventListener( "offline", function() {
			toggleASRBtn( "KO" );
		});
	}	

	function isMontantValid( evt ){
		var charCode = (evt.which) ? evt.which : evt.keyCode;
		 if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
			return false;
		} else {
			return true;
		}
	}

	function verifierNbKmIK( ) {
		if( document.getElementById( 'NB_KM_IK' ).value !== "" ) {
			document.getElementById( "btnValiderIK" ).disabled = false;
			console.log( "!!DISABLED" );
		} else {
			document.getElementById( "btnValiderIK" ).disabled = true;
			console.log( "DISABLED" );
		}
	}

	function annulerIK () {
		window.location.assign ( "./choixApp.html" );
	}
</script>
</body>
</html>
